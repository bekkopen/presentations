<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Gatling og Locust</title>

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="../assets/revealjs/css/reveal.min.css">
		<link rel="stylesheet" href="../assets/revealjs/css/theme/default.css" id="theme">
		<style type="text/css">
			ul.checkmark li:before{
    			content:"\2713\0020";
			}
			ul.checkmark li{
				list-style-type:none;
			}
			column{
				float: left;
				text-align: left;
				width: 50%;
			}
		</style>
	</head>

	<body>
	<div class="reveal">
		<div class="slides">

				<section>
					<h4>Ytelsestesting</h4>
					<h4>med</h4>
					<h1>Gatling og Locust</h1>
				</section>

				<!-- The speakers -->
				<section>
					<div style="float:left;width:50%;text-align:left">
						<h3>Stefan Magnus Landrø</h3>
						<ul class="checkmark">
							<li>Manager</li>
							<li>Far</li>
							<li>Ingénieur Diplômé INSA Toulouse</li>
							<li>Gatling gunner</li>
							<li>10++ år med progging</li>
							<li>Bekk siden 2004</li>
						</ul>
					</div>
					<div style="float:left;width:50%">
						<img src="assets/stefan.jpeg" align="right">
						<br>
						<img src="assets/longfeathers.jpeg" align="right" style="-webkit-filter: blur(5px);">
					</div>
				</section>
				<section>
					<column>
						<h3>Ole Chr. Langfjæran</h3>
						<ul class="checkmark">
							<li>Manager</li>
							<li>Far</li>
							<li>Ingeniør de HiST</li>
							<li>Locust dude</li>
							<li>Bekk siden 2006</li>
						</ul>
					</column>
					<column>
						<img src="assets/stefan.jpeg" align="right" style="-webkit-filter: blur(5px);">
						<br>
						<img src="assets/longfeathers.jpeg" align="right">
					</column>
				</section>

				<!-- Agenda -->
				<section>
					<h2>Hva skal vi prate om</h2>
					<ul>
						<li>Hvorfor</li>
						<li>Hvordan</li>
						<li>Locust</li>
						<li>Gatling</li>
						<li>Krigshistorier</li>
						<li>Oppsummering</li>
					</ul>
				</section>

				<!-- Hvorfor -->
				<section>
					<section>
						<h2>Hvorfor?</h2>
					</section>			
					<section>
						<column>
							<img src="http://crunchify.com/wp-content/uploads/2013/01/Twitter-Failed-Whale.png" align="left">
						</column>
						<column>
						<p>Mange systemer feiler pga at de ikke var klar for å motta en produksjonslast. Eller svarer alt for sent.</p>
						</column>						
					</section>
					<section>
						<column>
							<img src="http://crunchify.com/wp-content/uploads/2013/01/Twitter-Failed-Whale.png" align="left">
						</column>
						<column>
						<p>På samme måte er det lite hensiktsmessig å bruke ekstra ressurser for å lage noe som ikke trenger å skalere for tusenvis av brukere.</p>
						</column>
					</section>
					<section>
						<h2>Krav:</h2>
						<p>Skal kunne betale med kredittkort</p>
					</section>
					<section>
						<h2>Krav:</h2>
						<p>Systemet skal kunne betjene 1000 samtidige betalende kunder</p>
					</section>
					<section>
						<column>
							<h2>NFR</h2>
							<p>Non Functional Requirements</p>
							<blockquote cite="http://www.amazon.com/Continuous-Delivery-Deployment-Automation-Addison-Wesley/dp/0321601912/ref=sr_1_1?ie=UTF8&qid=1377554394&sr=8-1&keywords=continuous+delivery">...as availability, capacity, security, and maintainability are every bit as important and valuable as functional ones, and they are essential to the functioning of the system.</blockquote>
						</column>
						<column>
							<img src="http://martinfowler.com/continuousDelivery.jpg" align="right">
						</column>
					</section>
					<section>
						<img src="http://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/Money_Cash.jpg/1280px-Money_Cash.jpg">
					</section>
					<section>
						<h2>Amazon</h2>
						<column>
							<p>+ 100ms</p>
							<p>&#8594; -1% salg</p>
							<p>&#8594; Årlig tap på ca $160M/år</p>
						</column>
						<column>
							<img src="http://musicinfo.fi/images/amazon-logo-8.png" align="right">
						</column>
					</section>
					<section >					
						<column>
							<h3>Das experiment</h3>
							<p>Senket hastigheten til et utvalg intetanede</p>
							<p>100 to 400 millisekunder</p>
							<p>=> 0.2% - 0.4% mindre søk</p>
							<br>
							<p>Vedvarte etter de slo på igjen!</p>
							<!-- http://googleresearch.blogspot.no/2009/06/speed-matters.html -->
						</column>
						<column>
							<h1 align="right">Google</h1>
						</column>
					</section>
					<section>
						<img src="http://upload.wikimedia.org/wikipedia/commons/d/df/Uncle_Sam_(pointing_finger).png">
					</section>
				</section>

				<section>
					<section>
						<h2>Hvordan</h2>
					</section>
					<section>
						<h2>Definisjoner</h2>
						<p>Performance = 1 transaksjon</p>
						<p>Throughput = # transaksjoner over tid</p>
						<br>
						<p>Capacity = max throughput med tilfredsstillende performance</p>
					</section>
					<section>
						<h2>Build pipelines</h2>
						<p>Tease litt senere</p>
					</section>
					<section>
						<h2>Thoughtworks oktober 2012</h2>
						<p>We are strong believers in in-line automated performance 
testing, although open source tools in this space have been 
somewhat limited to date. Locust is a firm favorite that 
provides the ability to write tests in Python, with good support 
for running multiple injectors, basic statistics generation, and 
a useful web dashboard. Its approach to web load testing 
focuses more on the simulation of users than just generating 
hits per second. We would typically recommend Locust over 
and above older tools such as JMeter or Grinder.</p>
					</section>
					<section>
						<h2>Thoughtworks mai 2013</h2>
						<p>Gatling is another newer player in the automated performance 
testing space. It is similar to Locust and is much lighter weight 
than the older options such as JMeter and Grinder. Built on Scala, 
the DSL provides extensive functionality out of the box including 
easily configured data feeds and response assertions. In cases 
where customization is needed, it is easy to drop into Scala to 
provide extensions. The default generation of numerous dynamic 
views of the data via Highcharts adds to its appeal.</p>
					</section>										
				</section>

				<section>
					<section>
						<h2>Locust</h2>
					</section>
					<section>
						<h2>What</h2>
					</section>
					<section>
						<h2>Litt sparsomt med eksempel</h2>
					</section>
					<section>
						<h2>Skrevet i Python</h2>
						<h2>Kode. Ikke clunky UI eller bloated XML</h2>
					</section>					
					<section>
						<h2>Kort om python. Bruk eksempelet</h2>
						<h2>Comments. Triple line.</h2>
					</section>
					<section>
						<h2>Why</h2>
					</section>
					<section>
						<h2>How</h2>						
					</section>
					<section>
						<h2>Specify host</h2>						
					</section>
					<section>
						<h2>Locust --help</h2>						
					</section>
					<section>
						<h2>Hvordan med Jenkins</h2>						
					</section>
					<section>
						<h2>Hvorfor med Jenkins?</h2>						
					</section>
					<section>
						<h2>Build Pipelines</h2>						
					</section>
					<section>
						<h2>Web Routes</h2>
						<h2>/my_page</h2>
					</section>
					<section>
						<h2>Ramp'ing</h2>
					</section>					
				</section>

				<section>
					<section>
						<h2>Gatling</h2>
					</section>
					<section>
						<h2>Introduksjon</h2>
					</section>
					<section>
						<ul>
							<li>Open source (Apache 2)</li>
							<li>Scala DSL</li>
							<li>Actors (Akka)</li>
							<li>Asynkron HTTP klient (Netty)</li>
						</ul>
					</section>
                    <section>
                        <h2>Installasjon/oppsett</h2>
                    </section>
                    <section>
                        <ul>
                            <li>Maven archetype</li>
                            <li>Binary download</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Utvikle tester</h2>
                    </section>
                    <section>
                        <ul>
                            <li>Skrive Scala kode i en IDE (f.eks. IntelliJ)</li>
                            <li>Spille inn tester med Recorder (HTTP proxy)</li>
                        </ul>
                    </section>
					<section>
						<h2>Kjøre tester</h2>
					</section>
                    <section>
                        <ul>
                            <li>IDE (IntelliJ)</li>
                            <li>Maven plugin</li>
                            <li>Jenkins plugin</li>
                            <li>Standalone CLI</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Anbefalt rigg</h2>
                        <ul>
                            <li>Opprette prosjekt med maven archetype</li>
                            <li>Kode tester i IDE (IntelliJ)</li>
                            <li>Kjøre test i IDE</li>
                            <li>Kjøre tester på Jenkins</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Demo</h2>
                        <ul>
                            <li>Tomcat Example application</li>
                            <li>Apache CXF wsdl_first sample</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Krigserfaring</h2>
                    </section>
                    <section>
                        <ul>
                            <li>Support i verdensklasse</li>
                            <li>Bugs fikses ekstremt raskt</li>
                            <li>Community blir stadig større</li>
                        </ul>
                    </section>
                    <section>
                        <ul>
                            <li>Kan åpne (litt vel) mange connections
                                <ul>
                                    <li>Test mot reelt miljø (typisk load balancer)</li>
                                    <li>SSL handshake er kostbar</li>
                                </ul>
                            </li>
                            <li>Scala magic</li>
                        </ul>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Oppsummering</h2>
                    </section>
                    <section>
                        <ul>
                            <li>Fin måte å lære nytt språk på</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Lenker</h2>
                        <ul>
                        <li><a href="https://github.com/landro/fagdag-gatling">Gatling eksempler på github</a></li>
                        </ul>
                    </section>
                </section>


			</div>
    </div>

	<script src="../assets/revealjs/lib/js/head.min.js"></script>
	<script src="../assets/revealjs/js/reveal.min.js"></script>

	<script>

			Reveal.initialize({
				transition: 'linear',
				history: true,
			});

		</script>
	</body>
</html>
